# C语言控制流

本教程将学习C语言中的控制流语句，包括条件语句和循环语句。

## 1. if 条件语句

### 简单的 if 语句

```c
#include <stdio.h>

int main() {
    int age = 18;
    
    if (age >= 18) {
        printf("您已经成年了\n");
    }
    
    return 0;
}
```

### if-else 语句

```c
#include <stdio.h>

int main() {
    int score = 85;
    
    if (score >= 60) {
        printf("及格了\n");
    } else {
        printf("不及格\n");
    }
    
    return 0;
}
```

### if-else if-else 语句

```c
#include <stdio.h>

int main() {
    int score = 85;
    char grade;
    
    if (score >= 90) {
        grade = 'A';
    } else if (score >= 80) {
        grade = 'B';
    } else if (score >= 70) {
        grade = 'C';
    } else if (score >= 60) {
        grade = 'D';
    } else {
        grade = 'F';
    }
    
    printf("分数: %d, 等级: %c\n", score, grade);
    
    return 0;
}
```

### 嵌套 if 语句

```c
#include <stdio.h>

int main() {
    int age = 25;
    int has_license = 1;  // 1表示有，0表示无
    
    if (age >= 18) {
        printf("您已成年\n");
        if (has_license) {
            printf("您可以开车\n");
        } else {
            printf("您需要先考取驾照\n");
        }
    } else {
        printf("您还未成年\n");
    }
    
    return 0;
}
```

## 2. switch 语句

```c
#include <stdio.h>

int main() {
    int day = 3;
    
    switch (day) {
        case 1:
            printf("星期一\n");
            break;
        case 2:
            printf("星期二\n");
            break;
        case 3:
            printf("星期三\n");
            break;
        case 4:
            printf("星期四\n");
            break;
        case 5:
            printf("星期五\n");
            break;
        case 6:
        case 7:
            printf("周末\n");
            break;
        default:
            printf("无效的日期\n");
            break;
    }
    
    return 0;
}
```

**注意：**
- `switch`语句只能用于整数或字符类型
- `case`标签必须是常量
- 不要忘记`break`语句，否则会继续执行下一个`case`

## 3. for 循环

### 基本 for 循环

```c
#include <stdio.h>

int main() {
    // 打印1到10
    for (int i = 1; i <= 10; i++) {
        printf("%d ", i);
    }
    printf("\n");
    
    // 打印10到1（倒序）
    for (int i = 10; i >= 1; i--) {
        printf("%d ", i);
    }
    printf("\n");
    
    // 步长为2
    for (int i = 0; i <= 10; i += 2) {
        printf("%d ", i);
    }
    printf("\n");
    
    return 0;
}
```

### 嵌套 for 循环

```c
#include <stdio.h>

int main() {
    // 打印九九乘法表
    for (int i = 1; i <= 9; i++) {
        for (int j = 1; j <= i; j++) {
            printf("%d*%d=%-3d", j, i, i * j);
        }
        printf("\n");
    }
    
    return 0;
}
```

## 4. while 循环

### 基本 while 循环

```c
#include <stdio.h>

int main() {
    int i = 1;
    
    while (i <= 10) {
        printf("%d ", i);
        i++;
    }
    printf("\n");
    
    return 0;
}
```

### do-while 循环

```c
#include <stdio.h>

int main() {
    int i = 1;
    
    // do-while至少执行一次
    do {
        printf("%d ", i);
        i++;
    } while (i <= 10);
    
    printf("\n");
    
    return 0;
}
```

**while 与 do-while 的区别：**
- `while`: 先判断条件，条件为真才执行
- `do-while`: 先执行一次，再判断条件

## 5. break 和 continue

### break 语句

```c
#include <stdio.h>

int main() {
    // 找到第一个大于50的数就退出
    for (int i = 1; i <= 100; i++) {
        if (i > 50) {
            printf("找到大于50的数: %d\n", i);
            break;  // 退出循环
        }
        printf("%d ", i);
    }
    printf("\n");
    
    return 0;
}
```

### continue 语句

```c
#include <stdio.h>

int main() {
    // 打印1到10中的偶数（跳过奇数）
    for (int i = 1; i <= 10; i++) {
        if (i % 2 != 0) {
            continue;  // 跳过本次循环
        }
        printf("%d ", i);
    }
    printf("\n");
    
    return 0;
}
```

## 6. goto 语句（不推荐使用）

```c
#include <stdio.h>

int main() {
    int i = 0;
    
start:
    if (i < 5) {
        printf("%d ", i);
        i++;
        goto start;  // 跳转到start标签
    }
    printf("\n");
    
    return 0;
}
```

**注意：** `goto`语句虽然灵活，但会使程序流程混乱，一般不推荐使用。

## 7. 综合示例

### 示例1：判断素数

```c
#include <stdio.h>
#include <stdbool.h>

int main() {
    int num;
    bool is_prime = true;
    
    printf("请输入一个正整数: ");
    scanf("%d", &num);
    
    if (num <= 1) {
        is_prime = false;
    } else {
        for (int i = 2; i * i <= num; i++) {
            if (num % i == 0) {
                is_prime = false;
                break;
            }
        }
    }
    
    if (is_prime) {
        printf("%d 是素数\n", num);
    } else {
        printf("%d 不是素数\n", num);
    }
    
    return 0;
}
```

### 示例2：计算阶乘

```c
#include <stdio.h>

int main() {
    int n;
    long long factorial = 1;
    
    printf("请输入一个正整数: ");
    scanf("%d", &n);
    
    if (n < 0) {
        printf("负数没有阶乘\n");
    } else {
        for (int i = 1; i <= n; i++) {
            factorial *= i;
        }
        printf("%d! = %lld\n", n, factorial);
    }
    
    return 0;
}
```

### 示例3：菜单程序

```c
#include <stdio.h>

int main() {
    int choice;
    
    do {
        printf("\n=== 菜单 ===\n");
        printf("1. 选项1\n");
        printf("2. 选项2\n");
        printf("3. 选项3\n");
        printf("0. 退出\n");
        printf("请选择: ");
        scanf("%d", &choice);
        
        switch (choice) {
            case 1:
                printf("您选择了选项1\n");
                break;
            case 2:
                printf("您选择了选项2\n");
                break;
            case 3:
                printf("您选择了选项3\n");
                break;
            case 0:
                printf("再见！\n");
                break;
            default:
                printf("无效的选择，请重试\n");
                break;
        }
    } while (choice != 0);
    
    return 0;
}
```

## 练习

1. 编写程序，输入一个整数，判断它是正数、负数还是零
2. 编写程序，打印出所有的水仙花数（三位数，各位数字的立方和等于该数本身）
3. 编写程序，计算斐波那契数列的前n项
4. 编写程序，输入一个整数，求它的所有因子

